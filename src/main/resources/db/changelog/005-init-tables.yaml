databaseChangeLog:
  - changeSet:
      id: 005
      author: moustafa.barakat
      changes:
        - sql:
            dbms: postgresql
            endDelimiter: ;;
            splitStatements: true
            sql: |
              CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
              DO $$ DECLARE
                producer_id UUID := '11111111-1111-1111-1111-111111111111';
                seller_info_id UUID := '11111111-1111-1111-1111-111111111111';
                state VARCHAR(255) := 'REGULAR';
              BEGIN
              
              INSERT INTO producers (id, name, created_at)
              VALUES
                ('11111111-1111-1111-1111-111111111111', 'TestProducer1', '2024-01-01 00:00:00'),
                ('22222222-2222-2222-2222-222222222222', 'TestProducer2', '2024-01-01 00:00:00');
              
              -- Insert marketplaces
              INSERT INTO marketplaces (id, description)
              VALUES
                ('TestMarketplaceId1', 'TestMarketplaceDescription1'),
                ('TestMarketplaceId2', 'TestMarketplaceDescription2');
              
                FOR i IN 1..1000 LOOP
                  seller_info_id = uuid_generate_v4();
                  INSERT INTO seller_infos (id, marketplace_id, name, url, country, external_id) VALUES
                  (seller_info_id, 'TestMarketplaceId1', 'TestSellerInfo1', 'https://test-seller-info1.com', 'TestCountry1', 'amazon.nl');
              
                  INSERT INTO sellers (id, producer_id, seller_info_id, state)
                  VALUES (uuid_generate_v4(), producer_id, seller_info_id, state);
                END LOOP;
              END $$;